<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>移动位置</title>
    <script src="js/jquery.min.js"></script>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        #odiv{
            position: absolute;
            width: 100px;
            height: 100px;
            background: red;
            left: 100px;
            top: 100px;
        }
        .drag{
            position: absolute;
            width: 50px;
            height: 50px;
            background: red;
            left: 300px;
            top: 300px;
        }
    </style>
</head>
<body>
<div id="odiv">122</div>



<script>
    function f1(){
        var odiv = document.getElementById('odiv');

        var clix = null;
        var cliy =null;

        var odivx = null;
        var odivy = null;

        var x = null;
        var y =null;

        var ox=null,oy=null;


        //  mousedown    click   mousemove


         odiv.addEventListener('mousedown',ff,false);


    function ff(event) {

        odiv.style.cursor="move";
        // 获取 鼠标位置
        clix = event.clientX;
        cliy = event.clientY;

        //cliy = event.screenY;

        //获取元素位置
        odivx = odiv.offsetLeft;
        odivy = parseInt(odiv.offsetTop);

        //鼠标位置与元素位置的差
        x = clix - odivx;
        y = cliy - odivy;
        console.log(x, y);
        document.addEventListener('mousemove', f2, false);

    }

        function f2(event){
            ox= event.clientX - x +'px';
            oy=event.clientY - y +'px';

            odiv.style.left = ox;
            odiv.style.top = oy;
            console.log(ox, oy);

            document.addEventListener('mouseup', function(){
                document.removeEventListener('mousemove', f2, false)
            }, false);

           // document.removeEventListener('mouseup', f2, false)
        }

    }
    f1();





</script>
</body>
</html>